import{_ as y}from"./debug-panel.vue.1e86d7fd.js";import{u as v}from"./useToast.3617803d.js";import{d as g,r as f,a0 as w,o as b,cm as d,bG as k,b as V,c as S,g as T,w as C,e as r,W as $}from"./entry.7edce856.js";const x={class:"stack w-full"},E=r("h1",null,"SVG load done test",-1),G=r("h1",null,"loaded SVG",-1),I=["innerHTML"],B=g({__name:"bullets",props:{href:{}},setup(_,{expose:h}){const s=_,m=v(),p=f(),i=f();w(s,async(e,t)=>{await u()}),b(async()=>{await u()});const u=async()=>{if(s.href)try{var e=await $fetch(s.href,{parseResponse:t=>t});e=e.replace('width="3840"','width="100%"'),e=e.replace('height="2160"','height="100%"'),p.value=e,setTimeout(c)}catch{m.error(`Erreur lors de la récupération de l'animation ${s.href}`)}},c=()=>{const e=i.value.querySelector("svg");if(console.log("anim bullet task",{container:i,svg:e}),e){const o=[];for(var t=1;t<20;t++){const a=e.querySelector(`svg [ref='item${t}']`);a&&o.push(a)}o.forEach((a,n)=>{const{variant:l}=d(a,{initial:{y:100,opacity:0},enter:{y:0,opacity:1,transition:{type:"spring",stiffness:350,damping:20,delay:500+n*500,onComplete:()=>{l.value="levitate"}}},levitate:{y:15,transition:{duration:2e3,repeat:1/0,ease:"easeInOut",repeatType:"mirror"}}})})}if(e){const o=[];for(var t=1;t<20;t++){const n=e.querySelector(`svg [ref='target${t}']`);n&&o.push(n)}o.forEach((a,n)=>{const{variant:l}=d(a,{initial:{y:100,opacity:0},enter:{y:0,opacity:1,transition:{type:"spring",stiffness:350,damping:20,delay:500+n*500,onComplete:()=>{l.value="levitate"}}},levitate:{y:15,transition:{duration:2e3,repeat:1/0,ease:"easeInOut",repeatType:"mirror"}}})})}};return h({task:c}),(e,t)=>{const o=y,a=k("motion-fade");return V(),S("div",x,[T(o,null,{default:C(()=>[E,r("button",{class:"btn",onClick:c},"XXXX"),G]),_:1}),$(r("div",{ref_key:"container",ref:i,class:"object-contain w-full",innerHTML:p.value},null,8,I),[[a]])])}}});export{B as _};
