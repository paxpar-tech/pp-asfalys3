import{d as _,r as h,V as v,W as y,o as V,cg as g,b as i,c as r,e as s,g as p,f as k,G as B,t as n,ao as P,K as w,O as M}from"./entry.1b7ba420.js";import{u as R}from"./usePaxparAPI.0b4d6eb5.js";const C={class:"stat place-items-center"},E={key:0,class:"stat-figure text-secondary"},F={class:"stat-title"},I={class:"stat-value"},N={class:"stat-desc"},l=1e4,O=_({__name:"metric",props:{name:{default:"go_memstats_frees_total"},title:{default:""},desc:{default:""},icon:{},noRefresh:{type:Boolean,default:!1},fake:{type:Boolean,default:!1},domain:{},user:{},offset:{}},setup(d){const e=d,{useFetchPP:u}=R(),a=h(0),f=v(a,{duration:l,transition:y.easeInOutCubic});async function o(){if(e.fake)a.value=a.value+5+Math.floor(Math.random()*100);else{const{data:t}=await u(`/api/metric/${e.name}`,{query:{domain:e==null?void 0:e.domain,user:e==null?void 0:e.user,offset:e==null?void 0:e.offset}}),c=parseFloat(t.value);a.value=c}}return V(async()=>{await o(),e.noRefresh===!1&&g(async()=>{await o()},l)}),(t,c)=>{const m=M;return i(),r("div",{onClick:o,class:"stats shadow"},[s("div",C,[t.icon?(i(),r("div",E,[p(m,{name:"uil:github",size:"32"})])):k("",!0),s("div",F,[B(n(t.title),1),P(t.$slots,"default")]),s("div",I,n(Math.round(w(f)).toLocaleString()),1),s("div",N,n(t.desc),1)])])}}});export{O as _};
