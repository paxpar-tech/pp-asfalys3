import{_ as k}from"./icon.vue.d06dee08.js";import{d as L,r as P,o as S,N as B,b as l,c as i,F as f,a0 as u,L as I,w as C,e as c,g as F,t as p,K as N,H as T,p as H,i as M,k as $}from"./entry.27274098.js";import{u as U}from"./usePaxparAPI.9b544361.js";import"./fetch.0b635a31.js";import"./url.6edfad5e.js";import"./useToast.29496c1c.js";const V=o=>(H("data-v-6b2fe6cf"),o=o(),M(),o),j={id:"products",class:"item grid -mt-20 mx-6 sm:grid-cols-1 md:grid-cols-3 lg:grid-cols-3 xl:grid-cols-4 gap-16 bg-gallery drop-shadow-xl p-10 text-left"},A={class:"flex"},D=V(()=>c("div",{class:"grow"},null,-1)),E={class:"float-right"},K=["innerHTML"],O={class:"mt-5 mb-2 text-lg"},R={class:"font-light text-xs mb-2"},q=L({__name:"products",props:{filterType:{default:""},showUnpublished:{type:Boolean,default:!1},tags:{default:()=>[]},filterSearch:{default:""}},setup(o,{expose:m}){const r=o,{useFetchPP:h}=U(),d=P([]);var _;function g(){_()}S(async()=>{const{data:e,refresh:t}=await h("/api/ref/public");Object.assign(d.value,e.value),_=t});const x=B(()=>d.value.filter(e=>{var t;return e.name.toLowerCase().includes(r.filterSearch.toLowerCase())&&e.type==r.filterType&&(((t=e==null?void 0:e.gallery)==null?void 0:t.published)===!0||r.showUnpublished===!0)&&(r.tags.length===0||(e.tags||[]).some(a=>r.tags.includes(a)))}).sort((e,t)=>e.name<t.name?-1:1));function y(e){var a;const t=(a=e==null?void 0:e.gallery)==null?void 0:a.actions.filter(n=>n.name=="default");return t.length>0?t[0].url.replace("/craftform/","/craft/"):`/${e.type=="checklist"?"check":e.type}?id=${e.id}`}return m({refresh:g}),(e,t)=>{const a=k,n=T;return l(),i("section",j,[(l(!0),i(f,null,u(N(x),(s,b)=>(l(),I(n,{key:b,to:y(s),noPrefetch:"",class:"pp-anim1"},{default:C(()=>[c("div",A,[F(a,{def:s.image2||s.image},null,8,["def"]),D,c("div",E,[(l(!0),i(f,null,u(s.tags,(v,w)=>(l(),i("div",{key:w,class:"border-solid border-2 px-2 border-primary bg-primary text-white rounded-lg my-1",innerHTML:v},null,8,K))),128))])]),c("h3",O,p(s.name),1),c("p",R,p(s.desc),1)]),_:2},1032,["to"]))),128))])}}});const Y=$(q,[["__scopeId","data-v-6b2fe6cf"]]);export{Y as default};
